.. membership-page:

Memberships
===========

Studio memberships
------------------

Запросы на вступление в студию
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Модель
******

**RequestFromUser**

Методы в Views.py
*****************

* :func:`edit_db.views.user_request_create`
    * Создание запроса на вступление от юзера по имени студии.
    * Проверки:
        * Проверка на аутентификацию пользователя.

* :func:`edit_db.views.user_request_remove`
    * Удаление пользователем своего собственного запроса.
    * Проверки:
        * Проверка на аутентификацию пользователя.
        * Проверка на то что это запрос именно от этого пользователя.

* :func:`edit_db.views.user_request_accept`
* :func:`edit_db.views.user_request_refuse`
    * Одобрение или откланение запроса со стороны студии.
    * При одобрении - добавление юзера на уровень :ref:`user_level`.
    * Проверки:
        * Проверка на аутентификацию пользователя.
        * Проверка разрешения ``artis_add`` (только :ref:`super_head_level` или :ref:`head_level`).

* :func:`edit_db.views.user_request_get_list`
    * Получение списка запросов от данного аутентифицированного пользователя.
    * Проверки:
        * Проверка на аутентификацию пользователя.

* :func:`edit_db.views.studio_request_get_list`
    * Получение списка запросов в данную студию.
    * Проверки:
        * Проверка на аутентификацию пользователя.
        * Проверка разрешения ``artis_view`` (только :ref:`super_head_level` или :ref:`head_level`).


Приглашения от студии
~~~~~~~~~~~~~~~~~~~~~

Модель
******

**InvitationToUser**

Методы в Views.py
*****************

* :func:`edit_db.views.user_invitation_create`
    * Создание приглашения пользователю от студии по ``username``.
    * Проверки:
        * Проверка на аутентификацию пользователя.
        * Проверка разрешения ``artis_add`` (только :ref:`super_head_level` или :ref:`head_level`).

* :func:`edit_db.views.user_invitation_create`
    * Удаление приглашения пользователю.
    * Проверки:
        * Проверка на аутентификацию пользователя.
        * Проверка разрешения ``artis_add`` (только :ref:`super_head_level` или :ref:`head_level`).

* :func:`edit_db.views.user_invitation_accept`
* :func:`edit_db.views.user_invitation_refuse`
    * Принятие или отклонение приглашения пользователем.
    * В случае принятия - добавление юзера на уровень :ref:`user_level`.
    * Проверки:
        * Проверка на аутентификацию пользователя.
        * Проверка на то что это приглашение именно этому пользователю.

* :func:`edit_db.views.user_invitation_get_list`
    * Получение списка запросов от данного аутентифицированного пользователя.
    * Проверки:
        * Проверка на аутентификацию пользователя.

* :func:`edit_db.views.studio_invitation_get_list`
    * Получение списка запросов в данную студию.
    * Проверки:
        * Проверка на аутентификацию пользователя.
        * Проверка разрешения ``artis_view`` (только :ref:`super_head_level` или :ref:`head_level`).

Workroom memberships
--------------------

Group memberships
-----------------